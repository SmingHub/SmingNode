{
    "name": "esp_bathroom",
    "network":
    {
        "ssid": "MyWiFi",
        "password": "secretkey"
    },
    "mqtt":
    {
        "host": "test.mosquitto.org",
        "port": 1883
    },
    "sensors":
    {
        "dht22":
        {
            "pins": 2,
            "output": {"temperature": "t", "humidity": "rh"}
        },
        "light":
        {
            "type": "analog",
            "interval": 3000,
            "output": "intensity"
        },
        "forceMode":
        {
            "type": "button",
            "pins": 4,
            "changed": "fanAutoControl.setEnabled(false); fan.write(!fan.read()); restoreAutoMode.startOnce();"
        }
    },
    "slaves":
    {
        "fan" : 0
    },
    "triggers":
    {
        "fanAutoControl": "fan.write(dht22.rh > 70 & light.intensity < 12);"
    },
    "timers":
    {
        "restoreAutoMode":
        {
            "interval": 600000,
            "enabled": false,
            "action": "fanAutoControl.setEnabled(true);"
        }
    }
}
